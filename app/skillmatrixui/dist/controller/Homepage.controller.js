"use strict";sap.ui.define(["sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/Table","sap/m/ColumnListItem","sap/m/Column","sap/m/Label","sap/m/Text","./BaseController"],function(e,t,l,n,r,i,s,o){"use strict";function a(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const c=a(o);const u=c.extend("skillmatrixui.controller.Homepage",{onInit:function e(){},onBeforeRendering:function e(){this.setSkillMatrixData()},_handleSuccess:function t(l){const o=this.skillMatrixFormatter(l);const a=new e(o);this.getView()?.setModel(a,"skillMatrix");let c=this.byId("skillMatrixTable");let u=[];o.forEach(e=>{Object.keys(e).forEach(e=>{if(!u.includes(e)){u.push(e)}})});for(let e=0;e<u.length;e++){var h=new r("col"+e,{width:"1em",header:new i({text:u[e]})});c.addColumn(h)}let f=[];for(let e=0;e<u.length;e++){var m=new s({text:`{skillMatrix>${u[e]}}`,class:{path:`skillMatrix>${u[e]}`,formatter:this.cellColorFormatter}});f.push(m)}let d=new n({cells:f,type:"Active"});c.bindItems({path:"skillMatrix>/",template:d})},_handleError:function e(l){t.show("An error occurred while calling the function")},setSkillMatrixData:function e(){const t=this.getView()?.getModel();t.read("/SkillMatrix",{success:e=>{this._handleSuccess(e.results)},error:e=>{this._handleError(e)}})},skillMatrixFormatter:function e(t){const l=[];t.forEach(e=>{let t=l.find(t=>t.ID===e.ID);if(!t){t={ID:e.ID,fullName:e.fullName,country:e.country,hubName:e.hubName};l.push(t)}t[e.skillName.replace(/ /g,"")]=e.proficiencyLevel});return l},onItemPress:function e(t){let l=t.getSource();let n=t.getParameter("listItem")?.getBindingContext("skillMatrix");let r=n?.getProperty("ID");let i=this.getRouter();i.navTo("RoutePersonnelDetail",{personnelID:r})}});return u});
//# sourceMappingURL=Homepage.controller.js.map