"use strict";sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/Column","sap/m/Label"],function(e,t,i,l,n){"use strict";const s=e.extend("skillmatrixui.controller.Homepage",{onInit:function e(){},onBeforeRendering:function e(){this.setSkillMatrixData()},_handleSuccess:function e(i){const s=this.skillMatrixFormatter(i);const r=new t(s);this.getView()?.setModel(r,"skillMatrix");let o=this.byId("skillMatrixTable");o.setModel(r,"skillMatrix");o.bindItems({path:"skillMatrix>/",template:o.getBindingInfo("items")?.template});let a=[];Object.keys(s[0]).forEach(e=>{if(!a.includes(e)){a.push(e)}});for(let e=0;e<a.length;e++){var c=new l("col"+e,{width:"1em",header:new n({text:a[e]})});o.addColumn(c)}},_handleError:function e(t){i.show("An error occurred while calling the function")},setSkillMatrixData:function e(){const t=this.getView()?.getModel();t.read("/SkillMatrix",{success:e=>{this._handleSuccess(e.results)},error:e=>{this._handleError(e)}})},skillMatrixFormatter:function e(t){const i=[];t.forEach(e=>{let t=i.find(t=>t.ID===e.ID);if(!t){t={ID:e.ID,fullName:e.fullName,country:e.country,hubName:e.hubName};i.push(t)}t[e.skillName]=e.proficiencyLevel});return i}});return s});
//# sourceMappingURL=Homepage.controller.js.map