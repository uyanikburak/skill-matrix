"use strict";sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/ColumnListItem","sap/m/Column","sap/m/Label","sap/m/Text"],function(e,t,l,i,s,n,r){"use strict";const a=e.extend("skillmatrixui.controller.Homepage",{onInit:function e(){},onBeforeRendering:function e(){this.setSkillMatrixData()},_handleSuccess:function e(l){const a=this.skillMatrixFormatter(l);const o=new t(a);this.getView()?.setModel(o,"skillMatrix");let c=this.byId("skillMatrixTable");c.setModel(o,"skillMatrix");c.bindItems({path:"skillMatrix>/",template:c.getBindingInfo("items")?.template});let u=[];a.forEach(e=>{Object.keys(e).forEach(e=>{if(!u.includes(e)){u.push(e)}})});for(let e=0;e<u.length;e++){var h=new s("col"+e,{width:"1em",header:new n({text:u[e]})});c.addColumn(h)}let m=[];for(let e=0;e<u.length;e++){var d=new r({text:`{skillMatrix>/${u[e]}}`});m.push(d)}let f=new i("aColList",{cells:m});c.bindItems({path:"skillMatrix>/",template:f})},_handleError:function e(t){l.show("An error occurred while calling the function")},setSkillMatrixData:function e(){const t=this.getView()?.getModel();t.read("/SkillMatrix",{success:e=>{this._handleSuccess(e.results)},error:e=>{this._handleError(e)}})},skillMatrixFormatter:function e(t){const l=[];t.forEach(e=>{let t=l.find(t=>t.ID===e.ID);if(!t){t={ID:e.ID,fullName:e.fullName,country:e.country,hubName:e.hubName};l.push(t)}t[e.skillName.replace(/ /g,"")]=e.proficiencyLevel});return l}});return a});
//# sourceMappingURL=Homepage.controller.js.map