{"version":3,"file":"App-dbg.controller.js","names":["DefaultMessages","__skillmatrixui_types_globaltypes","App","Controller","extend","onInit","_onInit","router","getUIComponent","getRouter","attachRouteMatched","onRouteMatched","_getUIComponent","getOwnerComponent","_onRouteMatched","event","routeName","getParameter","routingArgs","fclModel","getModel","layout","nextUIState","getFclSemanticHelper","getNextUIState","setProperty","changePageLabel","currentRoute","_changePageLabel","mappings","getData","routeMapping","find","map","route","getView","byId","setSecondTitle","getResourceBundleText","pageLabelKey","_getResourceBundleText","key","parameters","resourceBundle","getResourceBundle","getText","NO_I18N_TEXT","_getResourceBundle"],"sources":["App.controller.ts"],"sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\nimport { Router$RouteMatchedEvent } from \"sap/ui/core/routing/Router\";\nimport Router from \"sap/f/routing/Router\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport { DefaultMessages } from \"skillmatrixui/types/global.types\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport View from \"sap/ui/core/mvc/View\";\nimport ShellBar from \"sap/f/ShellBar\";\n/**\n * @namespace skillmatrixui.controller\n */\nexport default class App extends Controller {\n\n    private router: Router;\n    private currentRoute: string;\n\n    /*eslint-disable @typescript-eslint/no-empty-function*/\n    public onInit(): void {\n        this.router = this.getUIComponent().getRouter() as Router;\n        this.router.attachRouteMatched(this.onRouteMatched, this);\n    }\n\n    private getUIComponent(): UIComponent {\n        return this.getOwnerComponent() as UIComponent;\n    }\n\n    private onRouteMatched(event: Router$RouteMatchedEvent) {\n        const routeName = event.getParameter(\"name\") as string;\n        const routingArgs = event.getParameter(\"arguments\") as { personnelID?: string; layout?: string; };\n        const fclModel = this.getUIComponent().getModel(\"fclModel\") as JSONModel;\n        let layout = routingArgs.layout;\n\n        // If there is no layout parameter, query for the default level 0 layout (normally OneColumn)\n        if (!layout) {\n            const nextUIState = this.getUIComponent().getFclSemanticHelper().getNextUIState(0);\n            layout = nextUIState.layout;\n        }\n\n        // Update the layout of the FlexibleColumnLayout\n        if (layout) {\n            fclModel.setProperty(\"/layout\", layout);\n        }\n        this.changePageLabel(event);\n        this.currentRoute = routeName;\n    }\n\n    private changePageLabel(event: Router$RouteMatchedEvent) {\n        const routeName = event.getParameter(\"name\") as string;\n        const mappings = (this.getUIComponent().getModel(\"routeMappingsModel\") as JSONModel).getData() as Array<{ route: string; pageLabelKey: string; }>;\n        const routeMapping = mappings.find(map => map.route === routeName) as { route: string; pageLabelKey: string; };\n\n        ((this.getView() as View).byId(\"sbApplication\") as ShellBar).setSecondTitle(this.getResourceBundleText(routeMapping.pageLabelKey));\n    }\n\n    private getResourceBundleText(key: string, parameters?: any[]): string {\n        const resourceBundle = this.getResourceBundle();\n        return resourceBundle.getText(key, parameters, true) || DefaultMessages.NO_I18N_TEXT;\n    }\n\n    private getResourceBundle(): ResourceBundle {\n        return ((this.getUIComponent().getModel(\"i18n\") as ResourceModel).getResourceBundle() as ResourceBundle);\n    }\n}"],"mappings":";;;;;QAMSA,eAAe,GAAAC,iCAAA;EAIxB;AACA;AACA;EAFA,MAGqBC,GAAG,GAASC,UAAU,CAAAC,MAAA;IAKvC,uDACOC,MAAM,WAAAC,QAAA,EAAS;MAClB,IAAI,CAACC,MAAM,GAAG,IAAI,CAACC,cAAc,CAAC,CAAC,CAACC,SAAS,CAAC,CAAW;MACzD,IAAI,CAACF,MAAM,CAACG,kBAAkB,CAAC,IAAI,CAACC,cAAc,EAAE,IAAI,CAAC;IAC7D,CAAC;IAEOH,cAAc,WAAAI,gBAAA,EAAgB;MAClC,OAAO,IAAI,CAACC,iBAAiB,CAAC,CAAC;IACnC,CAAC;IAEOF,cAAc,WAAAG,gBAACC,KAA+B,EAAE;MACpD,MAAMC,SAAS,GAAGD,KAAK,CAACE,YAAY,CAAC,MAAM,CAAW;MACtD,MAAMC,WAAW,GAAGH,KAAK,CAACE,YAAY,CAAC,WAAW,CAA+C;MACjG,MAAME,QAAQ,GAAG,IAAI,CAACX,cAAc,CAAC,CAAC,CAACY,QAAQ,CAAC,UAAU,CAAc;MACxE,IAAIC,MAAM,GAAGH,WAAW,CAACG,MAAM;;MAE/B;MACA,IAAI,CAACA,MAAM,EAAE;QACT,MAAMC,WAAW,GAAG,IAAI,CAACd,cAAc,CAAC,CAAC,CAACe,oBAAoB,CAAC,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC;QAClFH,MAAM,GAAGC,WAAW,CAACD,MAAM;MAC/B;;MAEA;MACA,IAAIA,MAAM,EAAE;QACRF,QAAQ,CAACM,WAAW,CAAC,SAAS,EAAEJ,MAAM,CAAC;MAC3C;MACA,IAAI,CAACK,eAAe,CAACX,KAAK,CAAC;MAC3B,IAAI,CAACY,YAAY,GAAGX,SAAS;IACjC,CAAC;IAEOU,eAAe,WAAAE,iBAACb,KAA+B,EAAE;MACrD,MAAMC,SAAS,GAAGD,KAAK,CAACE,YAAY,CAAC,MAAM,CAAW;MACtD,MAAMY,QAAQ,GAAI,IAAI,CAACrB,cAAc,CAAC,CAAC,CAACY,QAAQ,CAAC,oBAAoB,CAAC,CAAeU,OAAO,CAAC,CAAoD;MACjJ,MAAMC,YAAY,GAAGF,QAAQ,CAACG,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,KAAK,KAAKlB,SAAS,CAA6C;MAE5G,IAAI,CAACmB,OAAO,CAAC,CAAC,CAAUC,IAAI,CAAC,eAAe,CAAC,CAAcC,cAAc,CAAC,IAAI,CAACC,qBAAqB,CAACP,YAAY,CAACQ,YAAY,CAAC,CAAC;IACtI,CAAC;IAEOD,qBAAqB,WAAAE,uBAACC,GAAW,EAAEC,UAAkB,EAAU;MACnE,MAAMC,cAAc,GAAG,IAAI,CAACC,iBAAiB,CAAC,CAAC;MAC/C,OAAOD,cAAc,CAACE,OAAO,CAACJ,GAAG,EAAEC,UAAU,EAAE,IAAI,CAAC,IAAI1C,eAAe,CAAC8C,YAAY;IACxF,CAAC;IAEOF,iBAAiB,WAAAG,mBAAA,EAAmB;MACxC,OAAS,IAAI,CAACvC,cAAc,CAAC,CAAC,CAACY,QAAQ,CAAC,MAAM,CAAC,CAAmBwB,iBAAiB,CAAC,CAAC;IACzF;EAAC;EAAA,OAlDgB1C,GAAG;AAAA","ignoreList":[]}