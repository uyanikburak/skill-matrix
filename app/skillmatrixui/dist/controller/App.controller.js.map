{"version":3,"file":"App.controller.js","names":["DefaultMessages","__skillmatrixui_types_globaltypes","App","Controller","extend","onInit","_onInit","this","router","getUIComponent","getRouter","attachRouteMatched","onRouteMatched","_getUIComponent","getOwnerComponent","_onRouteMatched","event","routeName","getParameter","routingArgs","fclModel","getModel","layout","nextUIState","getFclSemanticHelper","getNextUIState","setProperty","changePageLabel","currentRoute","_changePageLabel","mappings","getData","routeMapping","find","map","route","getView","byId","setSecondTitle","getResourceBundleText","pageLabelKey","_getResourceBundleText","key","parameters","resourceBundle","getResourceBundle","getText","NO_I18N_TEXT","_getResourceBundle"],"sources":["App.controller.ts"],"sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\nimport { Router$RouteMatchedEvent } from \"sap/ui/core/routing/Router\";\nimport Router from \"sap/f/routing/Router\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport { DefaultMessages } from \"skillmatrixui/types/global.types\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport View from \"sap/ui/core/mvc/View\";\nimport ShellBar from \"sap/f/ShellBar\";\n/**\n * @namespace skillmatrixui.controller\n */\nexport default class App extends Controller {\n\n    private router: Router;\n    private currentRoute: string;\n\n    /*eslint-disable @typescript-eslint/no-empty-function*/\n    public onInit(): void {\n        this.router = this.getUIComponent().getRouter() as Router;\n        this.router.attachRouteMatched(this.onRouteMatched, this);\n    }\n\n    private getUIComponent(): UIComponent {\n        return this.getOwnerComponent() as UIComponent;\n    }\n\n    private onRouteMatched(event: Router$RouteMatchedEvent) {\n        const routeName = event.getParameter(\"name\") as string;\n        const routingArgs = event.getParameter(\"arguments\") as { personnelID?: string; layout?: string; };\n        const fclModel = this.getUIComponent().getModel(\"fclModel\") as JSONModel;\n        let layout = routingArgs.layout;\n\n        // If there is no layout parameter, query for the default level 0 layout (normally OneColumn)\n        if (!layout) {\n            const nextUIState = this.getUIComponent().getFclSemanticHelper().getNextUIState(0);\n            layout = nextUIState.layout;\n        }\n\n        // Update the layout of the FlexibleColumnLayout\n        if (layout) {\n            fclModel.setProperty(\"/layout\", layout);\n        }\n        this.changePageLabel(event);\n        this.currentRoute = routeName;\n    }\n\n    private changePageLabel(event: Router$RouteMatchedEvent) {\n        const routeName = event.getParameter(\"name\") as string;\n        const mappings = (this.getUIComponent().getModel(\"routeMappingsModel\") as JSONModel).getData() as Array<{ route: string; pageLabelKey: string; }>;\n        const routeMapping = mappings.find(map => map.route === routeName) as { route: string; pageLabelKey: string; };\n\n        ((this.getView() as View).byId(\"sbApplication\") as ShellBar).setSecondTitle(this.getResourceBundleText(routeMapping.pageLabelKey));\n    }\n\n    private getResourceBundleText(key: string, parameters?: any[]): string {\n        const resourceBundle = this.getResourceBundle();\n        return resourceBundle.getText(key, parameters, true) || DefaultMessages.NO_I18N_TEXT;\n    }\n\n    private getResourceBundle(): ResourceBundle {\n        return ((this.getUIComponent().getModel(\"i18n\") as ResourceModel).getResourceBundle() as ResourceBundle);\n    }\n}"],"mappings":"8HAMSA,EAAeC,EAAA,mBAIxB,MAGqBC,EAAYC,EAAUC,OAAA,gCAMhCC,OAAM,SAAAC,IACTC,KAAKC,OAASD,KAAKE,iBAAiBC,YACpCH,KAAKC,OAAOG,mBAAmBJ,KAAKK,eAAgBL,KACxD,EAEQE,eAAc,SAAAI,IAClB,OAAON,KAAKO,mBAChB,EAEQF,eAAc,SAAAG,EAACC,GACnB,MAAMC,EAAYD,EAAME,aAAa,QACrC,MAAMC,EAAcH,EAAME,aAAa,aACvC,MAAME,EAAWb,KAAKE,iBAAiBY,SAAS,YAChD,IAAIC,EAASH,EAAYG,OAGzB,IAAKA,EAAQ,CACT,MAAMC,EAAchB,KAAKE,iBAAiBe,uBAAuBC,eAAe,GAChFH,EAASC,EAAYD,MACzB,CAGA,GAAIA,EAAQ,CACRF,EAASM,YAAY,UAAWJ,EACpC,CACAf,KAAKoB,gBAAgBX,GACrBT,KAAKqB,aAAeX,CACxB,EAEQU,gBAAe,SAAAE,EAACb,GACpB,MAAMC,EAAYD,EAAME,aAAa,QACrC,MAAMY,EAAYvB,KAAKE,iBAAiBY,SAAS,sBAAoCU,UACrF,MAAMC,EAAeF,EAASG,KAAKC,GAAOA,EAAIC,QAAUlB,GAEtDV,KAAK6B,UAAmBC,KAAK,iBAA8BC,eAAe/B,KAAKgC,sBAAsBP,EAAaQ,cACxH,EAEQD,sBAAqB,SAAAE,EAACC,EAAaC,GACvC,MAAMC,EAAiBrC,KAAKsC,oBAC5B,OAAOD,EAAeE,QAAQJ,EAAKC,EAAY,OAAS3C,EAAgB+C,YAC5E,EAEQF,kBAAiB,SAAAG,IACrB,OAASzC,KAAKE,iBAAiBY,SAAS,QAA0BwB,mBACtE,IAAC,OAlDgB3C,CAAG","ignoreList":[]}